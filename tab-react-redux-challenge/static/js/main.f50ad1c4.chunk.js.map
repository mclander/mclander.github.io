{"version":3,"sources":["constants/action-types.js","actions/article-actions.js","components/article-list.js","components/tab-container.js","utils/async-component.js","components/work-place.js","components/not-found.js","constants/index.js","reducers/initial-state.js","reducers/index.js","reducers/articles.js","app.js","store/configure-store.js","index.js"],"names":["ARTICLE_OPEN","ARTICLE_CLOSE","ARTICLE_SWAP","openOrSelectArticle","id","type","types","closeArticle","swapArticleIndexes","from","to","ArticleList","props","react_default","a","createElement","articles","map","article","index","key","es","concat","linkBase","title","PATH_BASE","LINK_BASE","ArticleContent","getComponent","AsyncComponent","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","Component","inherits","createClass","value","_this2","then","setState","asyncComponent","__webpack_require__","e","bind","module","default","TabArea","handleTabChange","store","open","history","push","handleTabSequenceChange","_ref","oldIndex","newIndex","dispatch","handleEdit","_ref2","articleId","nextProps","tabTemplate","lib","closable","panelTemplate","article_list_ArticleList","forEach","i","tab","indexes","content","onTabEdit","onTabChange","activeIndex","active","customStyle","onTabSequenceChange","showArrowButton","connect","WorkPlace","className","tab_container","match","params","NotFound","STORE_KEY","k","number","undefined","titlePrefix","data","snakeCase","translit","makeData","fromPairs","x","initial","castArray","session","get","filter","rootReducer","combineReducers","atricles","initialState","action","indexOf","toConsumableArray","set","objectSpread","slice","splice","swap","createStore","App","react_redux_es","exact","path","component","require","assign","objectAssign","ReactDOM","render","src_app","document","getElementById"],"mappings":"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","file":"static/js/main.f50ad1c4.chunk.js","sourcesContent":["export const\n    ARTICLE_OPEN = 'ARTICLE_OPEN',\n    ARTICLE_CLOSE = 'ARTICLE_CLOSE',\n    ARTICLE_SWAP = 'ARTICLE_SWAP'\n\n\nexport default {\n    ARTICLE_OPEN, ARTICLE_CLOSE, ARTICLE_SWAP\n}","import * as types from '../constants/action-types'\n\nexport const openOrSelectArticle = id => ({\n    type: types.ARTICLE_OPEN,\n    id\n})\n\nexport const closeArticle  =  id => ({\n    type: types.ARTICLE_CLOSE,\n    id\n})\n\nexport const swapArticleIndexes  = (from, to) => ({\n    type: types.ARTICLE_SWAP,\n    from,\n    to\n})\n\nexport default {\n    openOrSelectArticle,\n    closeArticle,\n    swapArticleIndexes\n}","import React, {Component} from 'react'\nimport { Link } from 'react-router-dom'\n\nexport const ArticleList = props => <div>\n    <h2>Список статей</h2>\n    <ol>\n        { props.articles.map((article, index) => \n            <li key={index}>\n                <Link to={`${props.linkBase}/${article.id}`}  >{article.title}</Link>\n            </li>\n        )}\n    </ol>\n</div>\n\n\nexport default ArticleList","import React, {Component} from 'react'\nimport { Tabs, DragTabList, Tab, DragTab, PanelList, Panel } from 'react-tabtab'\nimport { connect } from 'react-redux'\nimport { openOrSelectArticle,  closeArticle, swapArticleIndexes } from '../actions/article-actions'\nimport { ArticleList } from './article-list'\nimport asyncComponent from '../utils/async-component'\n\nconst PATH_BASE = '/'\nconst LINK_BASE = `${PATH_BASE}article`\n\nconst ArticleContent = asyncComponent(() =>\n    import('./article-content').then(module => module.default)\n)\n\nexport class TabArea extends Component {\n    \n    componentDidMount(...args) {\n        this.props.dispatch(openOrSelectArticle(this.props.articleId))\n        \n    }\n\n    componentWillUpdate(nextProps) {\n        // console.log('componentWillUpdate', nextProps, this.props)\n        if (nextProps.articleId !== this.props.articleId)\n            this.props.dispatch(openOrSelectArticle(nextProps.articleId)) \n    }\n\n    // #WARN не забываем, что индекс вкладки отличается от индекса в store.open на 1 \n    handleTabChange = index => {\n        // На DragArea не действует ссылка\n        if (index) { \n            const id = this.props.store.open[index-1]\n            this.props.history.push(`${LINK_BASE}/${id}`)\n        }  else {\n            this.props.history.push(PATH_BASE)\n        }\n    }\n\n    handleTabSequenceChange = ({oldIndex, newIndex}) => {\n        // console.log({oldIndex, newIndex})\n        if (newIndex) { // блокируем возможность перемещать вкладку со статьями\n            const id = this.props.store.open[oldIndex - 1]\n            // console.warn(id)\n            this.props.dispatch(swapArticleIndexes(oldIndex - 1 , newIndex - 1))\n            this.props.history.push(`${LINK_BASE}/${id}`)\n        }\n    }\n\n    handleEdit = ({type, index}) => {\n        // console.log({type, index})\n        if (type === 'delete') {\n\n            // При удалении используем следующий алгоритм - активной становится следующая вкладка, если она есть\n            // при отсутствии следующей предыдущаяя (не забываем о смещении на -1)\n            // console.warn('delete', this.props.store.open[index - 1])\n            const id = index < this.props.store.open.length ? this.props.store.open[index] :  \n                       index > 1 ? this.props.store.open[index - 2] : \n                       null\n            this.props.dispatch(closeArticle(this.props.store.open[index - 1]))\n            this.props.history.push(id ? `${LINK_BASE}/${id}` : PATH_BASE)\n        }\n    }\n\n    render() {\n        const {store} = this.props \n        const tabTemplate = [<Tab key={-1} closable={false}>Список статей</Tab>];\n        const panelTemplate = [\n            <Panel key={-1}>\n                <ArticleList articles={this.props.store.articles} linkBase={LINK_BASE} />\n            </Panel>\n        ];\n        store.open.forEach((id, i) => {\n            const tab = store.articles[store.indexes[id]]\n            tabTemplate.push(<DragTab key={i} closable={true}>{tab.title}</DragTab>);\n            panelTemplate.push(<Panel key={i}><ArticleContent content={tab.content} /></Panel>);\n        })\n\n        return (\n            <div>\n            <Tabs onTabEdit={this.handleEdit}\n                    onTabChange={this.handleTabChange}\n                    activeIndex={store.active}\n                    customStyle={this.props.customStyle}\n                    onTabSequenceChange={this.handleTabSequenceChange}\n                    showArrowButton={!false}\n            >\n                <DragTabList>\n                {tabTemplate}\n                </DragTabList>\n                <PanelList>\n                {panelTemplate}\n                </PanelList>\n            </Tabs>\n            </div>\n        )\n  }\n}\n\nexport default connect(\n    state=>({store: state['atricles'] })\n)(TabArea)","import React, { Component } from \"react\";\n\nexport default function asyncComponent(getComponent) {\n    class AsyncComponent extends Component {\n        static Component = null;\n        state = { Component: AsyncComponent.Component };\n\n        componentWillMount() {\n            if (!this.state.Component) {\n                getComponent().then(Component => {\n                    AsyncComponent.Component = Component\n                    this.setState({ Component })\n                })\n            }\n        }\n        render() {\n            const { Component } = this.state\n            if (Component) {\n                return <Component {...this.props} />\n            }\n            return null\n        }\n    }\n\n    return AsyncComponent;\n}","import React, { Component } from 'react'\n// import * as _ from 'lodash'\nimport TabContainer from './tab-container'\nimport * as customStyle from 'react-tabtab/lib/themes/bootstrap'\n\nexport default class WorkPlace extends Component {\n    render () {\n        return (\n            <div className=\"container\">\n                <TabContainer \n                    customStyle={customStyle} \n                    articleId={this.props.match.params.article}\n                    history={this.props.history} \n                />\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport './not-found.css'\n\nclass NotFound extends Component {\n    render () {\n        return (\n            <div className=\"container\">\n                <p>404</p>\n                <p>Page not found</p>\n            </div>\n        )\n    }\n}\n\nexport default NotFound","import  actions from './action-types'\n\nexport const STORE_BASE = 'tab-redux-challenge'\nexport const STORE_KEY = k => `${STORE_BASE}.${k}`\n\nexport default {\n    actions,\n    STORE_BASE,\n    STORE_KEY\n} ","import React from 'react'\nimport store from \"store2\"\nimport {STORE_KEY} from '../constants'\nimport translit from 'translit-rus-eng'\n\nimport snakeCase  from 'lodash/snakeCase'\nimport fromPairs from 'lodash/fromPairs'\nimport castArray from 'lodash/castArray'\n\n\nconst ARTICLES_TOTAL = 42 // donn't ask me why !\n\nexport const makeData = (number = ARTICLES_TOTAL, titlePrefix = 'Статья') => {\n    const data = []\n    for (let i = 1; i <= number; i++) {\n        const title = `${titlePrefix} ${i}` \n        data.push({\n            id: `${i}-${snakeCase(translit(title))}`,\n            title,\n            content: `\n                <div>\n                    <h2>${title}</h2>\n\n                    <h3> tab-react-redux-challenge</h3>\n\n                    Тестовое задание. Текст и \"адресат\" задания скрыты для усложнения жизни другим тестируемым.<p />\n\n                    Основной проект стырен из lazy-loading-routes, так же остались следы заимсвований из react-slingshot и react-starter-kit <p />\n\n                    <h3>Немного пояснений</h3>\n\n                    Я использую в своей работе нотацию без точки с запятой (;), хоть это не очень распространённая \n                    нотация. Плюсом этой нотации идёт то, что видно что и где я творчески обработал из творчески\n                    заимствованного кода.<p />\n\n                    В этом проекте я использую kebab названия файлов (из чистого хулиганства, плюс мне \n                    нравится видеть имена файлов в этой нотации во вкладках редактора больше) <p/>\n\n                    Я знаю, что lodash сильно утяжелит проект, но использую его внаглую, потому, что оптимизировать размер\n                    можно разными способами и \"потом\"<p />\n\n                    <h3> Вот, блин, поворот</h3>\n\n                    В библиотеке react-tabtab есть ошибка с закрытием вкладок, чтобы закрыть вкладку надо кликать на самый верх квадратика с крестиком. Думаю, разберусь с этим позже<p />\n                    \n                    <h3># Что остётся? </h3>\n\n                    Причесать стили, пофиксить react-tabtab, сделать eject проекту, чтобы формально \n                    выполнить условие про webpack, сократить влияние лодаша<p /> \n                \n                </div>`\n        })\n  }\n  return data\n}\n\nexport const articles = makeData()\nexport const active = 0 // не запоминаем активную вкладку в сессии\nexport const indexes = fromPairs(articles.map((x, i) => [x.id, i]))\nexport const open = (castArray(store.session.get(STORE_KEY('open'), []))).filter(x => x in indexes) // запоминаем вкладки с сессии \n\nexport const initial ={\n    articles,\n    open,\n    indexes,\n    active\n} \n\nexport default initial\n\n\n","import { combineReducers } from 'redux';\nimport atricles from './articles';\n\nconst rootReducer = combineReducers({\n  atricles,\n})\n\nexport default rootReducer\n","import { ARTICLE_OPEN, ARTICLE_CLOSE, ARTICLE_SWAP } from '../constants/action-types'\nimport {STORE_KEY} from '../constants'\nimport store from 'store2'\nimport initialState from './initial-state'\n\nexport default function articlesReducer(state = initialState, action) {\n    //console.log({state, action})\n  let {active, open} = state\n\n  switch (action.type) {\n    case ARTICLE_OPEN:\n        // Ищем статью в открытых, проверяем, что статья существует\n        if (!~open.indexOf(action.id) && (action.id in state.indexes)) {\n            open = [...open, action.id]\n            store.session.set(STORE_KEY('open'), open)\n        } else {\n            // Попытку открыть несуществующую сатью (пока?) никак не обрабатываем\n\n        }\n        // хитрый финт ухом: нам надо сместить индекс на 1 чтобы попасть в индекс табов\n        // а случай кода таб не найден самообрабытывается - -1 - превращается в 0 - страница стаьи\n        active = open.indexOf(action.id) + 1\n    \n        return {...state, open, active}\n\n    case ARTICLE_CLOSE:\n        const index = open.indexOf(action.id)\n        if (~index) {\n            if (active === index + 1) active--\n            open = open.slice()\n            open.splice(index, 1)\n            store.session.set(STORE_KEY('open'), open)\n            return {...state, open, active}\n        }\n\n        return state\n    case ARTICLE_SWAP:\n        const {from, to} = action\n        // меняем местми вкладки\n        open = open.slice()\n        let swap = open[from]\n        open[from] = open[to]\n        open[to] = swap\n        store.session.set(STORE_KEY('open'), open)\n\n        // устанавливаем новую активню вкладку\n        active = to + 1\n        return {...state, open, active}\n    default:\n        return state;\n  }\n}\n","import React, { Component } from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom'\nimport { Provider } from 'react-redux' \n\nimport './app.css';\nimport WorkPlace from './components/work-place'\nimport NotFound from './components/not-found'\nimport createStore from './store/configure-store'\nconst store = createStore()\n\nclass App extends Component {\n    render () {\n        return (\n            <Provider store={store}>\n            <Router>\n                <div>\n                    <section className=\"content\">\n                        <Switch>\n                            <Route exact path=\"/\" component={WorkPlace} />\n                            <Route path=\"/article/:article\" component={WorkPlace} />\n                            <Route path=\"*\" component={NotFound} />\n                        </Switch>\n                    </section>\n                </div>\n            </Router>\n            </Provider>\n        )\n    }\n}\n\nexport default App;\n","import { createStore } from 'redux';\nimport rootReducer from '../reducers';\n\nexport default function configureStore(initialState) { \n    const store = createStore(rootReducer, initialState);\n    return store;\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './app'\nimport objectAssign from 'object-assign'\nrequire('styled-components') \nrequire('bootstrap/dist/css/bootstrap.css')\n\n\n// #TODO move it to venor.js\nif (Object && !Object.assign) Object.assign = objectAssign\n\n// добавляем \"в косноль\" lodash (можно только для dev  версии)\n// window._ = require('lodash')\n\n\nReactDOM.render( < App / > , document.getElementById('root'))"],"sourceRoot":""}